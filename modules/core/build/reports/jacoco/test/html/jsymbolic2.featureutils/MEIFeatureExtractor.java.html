<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="ru"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>MEIFeatureExtractor.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">jsymbolic-core</a> &gt; <a href="index.source.html" class="el_package">jsymbolic2.featureutils</a> &gt; <span class="el_source">MEIFeatureExtractor.java</span></div><h1>MEIFeatureExtractor.java</h1><pre class="source lang-java linenums">package jsymbolic2.featureutils;

import jsymbolic2.processing.MIDIIntermediateRepresentations;
import org.ddmal.jmei2midi.meielements.meispecific.MeiSpecificStorage;

import javax.sound.midi.Sequence;

/**
 * The prototype class for features designed to extract features from MEI data (and MIDI data generated
 * elsewhere from this MEI data). Each class that extends this class will extract a particular feature from
 * some set of MEI data and its associated sequence of converted MIDI data. Such classes do not store feature
 * values, only extract them. Classes that extend this class should have a constructor that sets the five
 * protected fields of this class.
 *
 * &lt;p&gt;Note that this class extends {@link MIDIFeatureExtractor} and thus inherits that class' information,
 * except for the {@link MIDIFeatureExtractor#extractFeature(Sequence, MIDIIntermediateRepresentations,
 * double[][])} method, which has been replaced by the {@link #extractMEIFeature(MeiSpecificStorage, Sequence,
 * MIDIIntermediateRepresentations, double[][])} method; the old method will thus will throw an
 * {@link UnsupportedOperationException} if it is called.
 *
 * @author Tristano Tenaglia and Cory McKay
 */
<span class="fc" id="L23">public abstract class MEIFeatureExtractor</span>
        extends MIDIFeatureExtractor {
    /* PUBLIC METHODS ***************************************************************************************/


    /**
     * The prototype method that classes extending this class will override in order to extract their
     * feature from a section of MEI data (and the associated MIDI data generated from it).
     *
     * @param meiSpecificStorage   Holds all accessible MEI-specific data from which to extract this feature.
     * @param sequence             The MIDI data generated from the MEI data, and which can abe used to help
     *                             extract this feature. Notice that this can be taken directly from the
     *                             {@link org.ddmal.jmei2midi.MeiSequence}.
     * @param sequence_info        Additional data already extracted from the the MIDI sequence.
     * @param other_feature_values The values of other features that are needed to calculate this value. The
     *                             order and offsets of these features must be the same as those returned by
     *                             this class's getDependencies and getDependencyOffsets methods
     *                             respectively.The first indice indicates the feature/window and the second
     *                             indicates the value.
     * @throws Exception Throws an informative exception if the feature cannot be calculated.
     * @return The extracted feature value(s).
     */
    public abstract double[] extractMEIFeature(MeiSpecificStorage meiSpecificStorage,
                                               Sequence sequence,
                                               MIDIIntermediateRepresentations sequence_info,
                                               double[][] other_feature_values)
            throws Exception;


    /**
     * Throws an {@link UnsupportedOperationException} when called, as this class is for MEI features and not
     * MIDI-only features.
     *
     * @param sequence             The MIDI data to extract the feature from.
     * @param sequence_info        Additional data about the MIDI sequence.
     * @param other_feature_values The values of other features that may be needed to calculate
     *                             this feature. The order and offsets of these features must be
     *                             the same as those returned by this class' getDependencies and
     *                             getDependencyOffsets methods, respectively. The first indice
     *                             indicates the feature/window, and the second indicates the
     *                             value.
     * @throws UnsupportedOperationException Informative exception automatically thrown if this method is
     *                                       called.
     * @return The extracted feature value(s).
     */
    @Override
    public double[] extractFeature(Sequence sequence,
                                   MIDIIntermediateRepresentations sequence_info,
                                   double[][] other_feature_values)
            throws UnsupportedOperationException {
<span class="nc" id="L73">        throw new UnsupportedOperationException(&quot;Unsupported Operation Exception: &quot;</span>
                + &quot;The extractFeature method is only valid for MIDI features, not valid for MEI feature. &quot;
                + &quot;Use the extractMeiFeature method instead for MEI features.&quot;);
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.12.202403310830</span></div></body></html>